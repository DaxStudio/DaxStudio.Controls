<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:ctrl="clr-namespace:DaxStudio.UI.Controls"
                    xmlns:conv="clr-namespace:DaxStudio.UI.Converters">

    <conv:IndentConverter x:Key="IndentConverter"/>
    
    <!-- Tree Line Drawing Control -->
    <Style x:Key="TreeLineStyle" TargetType="Border">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="IsHitTestVisible" Value="False"/>
    </Style>

    <!-- Expander Toggle Button Style -->
    <Style x:Key="ExpanderToggleStyle" TargetType="ToggleButton">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Border Background="Transparent" 
                            BorderBrush="Transparent" 
                            BorderThickness="0"
                            Width="16" 
                            Height="16">
                        <Grid>
                            <!--Fill="{DynamicResource Theme.Brush.Default.Fore}"-->
                            <Path x:Name="ExpanderArrow"
                                  Data="M 4 2 L 8 6 L 4 10 Z"
                                  Fill="Black"
                                  Stretch="Uniform"
                                  Width="8"
                                  Height="8"
                                  Stroke="Black"
                                  StrokeThickness="1"
                                  RenderTransformOrigin="0.5,0.5">
                                <Path.RenderTransform>
                                    <RotateTransform Angle="0"/>
                                </Path.RenderTransform>
                            </Path>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter Property="Fill" TargetName="ExpanderArrow" Value="Black"/>
                            <Trigger.EnterActions>
                                
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="ExpanderArrow"
                                                       Storyboard.TargetProperty="(Path.RenderTransform).(RotateTransform.Angle)"
                                                       To="45" Duration="0:0:0.0"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="ExpanderArrow"
                                                       Storyboard.TargetProperty="(Path.RenderTransform).(RotateTransform.Angle)"
                                                       To="0" Duration="0:0:0.0"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                        
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ExpanderArrow" Property="Fill" Value="{DynamicResource Theme.Brush.Accent}"/>
                        </Trigger>

                        <Trigger Property="IsChecked" Value="False">
                            <Setter Property="Fill" TargetName="ExpanderArrow" Value="Transparent"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

     <!--Hierarchical DataGrid Style--> 
    <Style TargetType="ctrl:HierarchicalDataGrid" BasedOn="{StaticResource {x:Type DataGrid}}">
        <Setter Property="Background" Value="{DynamicResource Theme.Brush.Content.Back}"/>
        <Setter Property="Foreground" Value="{DynamicResource Theme.Brush.Default.Fore}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource Theme.Brush.Control.Border}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="GridLinesVisibility" Value="None"/>
        <Setter Property="AlternatingRowBackground" Value="{DynamicResource Theme.Brush.Table.Alternate}"/>
        <Setter Property="RowBackground" Value="Transparent"/>
        <Setter Property="HeadersVisibility" Value="Column"/>
        <Setter Property="SelectionMode" Value="Single"/>
        <Setter Property="SelectionUnit" Value="FullRow"/>
        <Setter Property="CanUserAddRows" Value="False"/>
        <Setter Property="CanUserDeleteRows" Value="False"/>
        <Setter Property="CanUserReorderColumns" Value="False"/>
        <Setter Property="CanUserSortColumns" Value="False"/>
        <Setter Property="IndentWidth" Value="20"/>
    </Style>

     <!--Row Style--> 
    <Style TargetType="DataGridRow" x:Key="HierarchicalDataGridRowStyle">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{DynamicResource Theme.Brush.Default.Fore}"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{DynamicResource Theme.Brush.Table.Hover}"/>
            </Trigger>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="{DynamicResource Theme.Brush.Table.Selected}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

     <!--Cell Style--> 
    <Style TargetType="DataGridCell" x:Key="HierarchicalDataGridCellStyle">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="6,3"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGridCell">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
